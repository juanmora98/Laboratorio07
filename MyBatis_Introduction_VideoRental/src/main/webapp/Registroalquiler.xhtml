<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
    <h:head>
        <h:title>Registro Alquiler</h:title>
    </h:head>
    
    <h:body>
	<f:metadata>
	    <f:viewParam name="doc" value="#{AlquilerItemsBean.documento}" />
	</f:metadata>
	<h:form id="tabla">
		<p>Items no devueltos.</p>
		<p:dataTable id="items" var="item" value="#{AlquilerItemsBean.itemsNoDevueltos()}">
			<p:column headerText="Item ID">
				<h:outputText value="#{item.item.id}"/>
			</p:column>
			<p:column headerText="Nombre">
				<h:outputText value="#{item.item.nombre}"/>
			</p:column>
		</p:dataTable>
		<p>Valor multa:</p>
		<h:outputText value="#{AlquilerItemsBean.multas()}"/><br/>
		<h:outputText value="#{AlquilerItemsBean.getDocumento()}"/>
		<p> Identificador del item. </p>
		<p:inputText id="iditem" binding="#{iditem}" required="true"/>
		<br/>
		<p> Número de días. </p>
		<p:inputText id="dias" binding="#{dias}" required="true"/>
		<br/>
		<p> Costo </p>
		<p:outputLabel id="costo" update="tabla" value="#{AlquilerItemsBean.costo}"/>
		<br/>
		<p:commandButton value="Calcular" actionListener="#{AlquilerItemsBean.calcularCosto(iditem.value, dias.value)}" update="tabla" />
		<p:commandButton value="Registrar alquiler" actionListener="#{AlquilerItemsBean.registrarItemRentado(iditem.value, dias.value)}" update="tabla"/>
	</h:form>
	
    </h:body>
</html>
